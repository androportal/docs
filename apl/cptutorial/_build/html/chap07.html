

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Chapter 7 Arrays &mdash; cpp 0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="cpp 0 documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="index.html">cpp 0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="chapter-7-arrays">
<h1>Chapter 7 Arrays<a class="headerlink" href="#chapter-7-arrays" title="Permalink to this headline">¶</a></h1>
<p>The concept of an array is common to most programming languages. In an
array, multiple values of the same data type can be stored with one
variable name. The use of arrays allows for the development of smaller
and more clearly readable programs.</p>
<div class="section" id="arrays">
<h2>7.1 Arrays<a class="headerlink" href="#arrays" title="Permalink to this headline">¶</a></h2>
<p>Arrays are classified as aggregate data types. Unlike atomic data
types which cannot be subdivied, aggregate data types are composed of
one or more elements of an atomic or another aggregate data type.
Simply put aggregate data types can be subdivided or broken down. To
access individual elements of an array a subscript must be used. The
subscript identifies the sub-element or component of the array that is
to be accessed. Subscripts must start at <strong>0</strong> and proceed in
increments of 1. Arrays can be of any data type supported by <strong>C</strong>,
including constructed data types and arrays can be of any storage
class except &#8216;register&#8217;.</p>
</div>
<div class="section" id="declaring-and-initialization">
<h2>7.1.1 Declaring and Initialization<a class="headerlink" href="#declaring-and-initialization" title="Permalink to this headline">¶</a></h2>
<p>Arrays can be declared as local variables or global variables.
Initialization of an array when it is declared is allowed for both
locally and globally declared arrays. Initializing an array when it is
declared does not require the presence of a dimension on the array</p>
<div class="section" id="fig-7-1">
<h3>Fig. 7-1<a class="headerlink" href="#fig-7-1" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>char name[] = "John Smith";
int age[] = {21,32,43,22,25};
main()
{
     .
     .
     .
}

OR

main()
{
int age[] = {21,32,43,22,25};
     .
     .
     .
}</pre>
</div>
<p>If an array is declared to hold ten elements, the subscripts start at
<strong>0</strong> and the highest subscript allowed for that array is <strong>9</strong>. There
is no bounds checking on arrays. It is the programmers responsibility
to keep the subscript within the bounds of the array. On the above
array <strong>age</strong>, which has five elements if a statement such as</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">age</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</pre></div>
</div>
<p>is made in the program, no error or warning will be generated by the
compiler. The array <strong>age</strong> should only support subscripts ranging
from <strong>0</strong> to <strong>5</strong>. A subscript of <strong>6</strong> is not within the bounds of
the array, but <strong>C/C++</strong> will allow the statement. In most cases the
program will terminate with a runtime error because of the above
statement.</p>
</div>
</div>
<div class="section" id="multi-dimensional-arrays">
<h2>7.1.2 Multi-Dimensional Arrays<a class="headerlink" href="#multi-dimensional-arrays" title="Permalink to this headline">¶</a></h2>
<p>Two and three dimensional arrays are allowed but actually there is no
limit on the number of dimensions for an array.</p>
<div class="highlight-python"><pre>int aver[10][20];

float sales[50][10][2];</pre>
</div>
<p>Values in a multi-dimensional array are stored in row-major order,
meaning that if array is declared as</p>
<div class="highlight-python"><pre>int data[3][4];</pre>
</div>
<p>the values are stored in memory in this order</p>
<div class="highlight-python"><pre>[0][0] [0][1] [0][2] [0][3] [1][0] [1][1] [1][2] [1][3] ...</pre>
</div>
<p>and so forth. Therefore, when initializing a multi-dimensional array
at declaration time, the row designator does not have to be stated,
but the column length must be stated, such as:</p>
<div class="highlight-python"><pre>float monthlySalesByProduct[][4] =
     { {100.50, 234.32, 987.98}
     , {324.56, 123.43, 876.83}
     , {765.23, 8743.28, 27388.87}
     ...
     };</pre>
</div>
<p>Notice the use of nested <strong>{...}</strong> pairs to set off the column values
for a row. This is required in order to delineate the boundaries of
the rows. The two-dimensional array above can also be called a square
array. A square array can be used to store arrays of strings.</p>
<div class="section" id="listing-7-1">
<h3>Listing 7-1<a class="headerlink" href="#listing-7-1" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>#include &lt;iostream.h&gt;

int main()
{
char students[10][25];   // holds names of students
int idx;

    for( idx = 0; idx &lt; 10; ++idx )
    {
         cout &lt;&lt; "Enter a students first name: ";
         cin &gt;&gt; students[idx];
    }

    cout &lt;&lt; "\nThe students in the class are:" &lt;&lt; endl;

    for( idx = 0; idx &lt; 10; ++idx )
         cout &lt;&lt; students[idx] &lt;&lt; endl;
    return 0;
}</pre>
</div>
<p>Notice the used of <strong>students[i]</strong> in the above example. The name of
each row in the multi-dimensional array is the name of an array, which
means that it represents the beginning address of where data is
stored. You can use the name of a row the same as you would the name
of an array. Also, notice that no matter how short the name of the
student is, the same number of characters is allocated for each row,
therefore leading to excessing use of memory space.</p>
</div>
</div>
<div class="section" id="arrays-as-arguments">
<h2>7.2 Arrays as Arguments<a class="headerlink" href="#arrays-as-arguments" title="Permalink to this headline">¶</a></h2>
<p>Arrays are automatically passed by reference to a function. The name
of an array is the beginning address of where the array data is stored
in memory; also known as a &#8216;pointer constant&#8217;.</p>
<div class="section" id="listing-7-2">
<h3>Listing 7-2<a class="headerlink" href="#listing-7-2" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>#include &lt;iostream.h&gt;

int main()
{
int list[10]
    ,max = 10
    ,indx = 0
    ,largest
    ,num_ele
    ;
int find_max( int [], int );

    while( indx &lt; max)
    {
         cout &lt;&lt; "\nEnter a number: ";
         cin &gt;&gt; list[indx];
         ++indx;
    }
    largest = find_max( list, max );
    cout &lt;&lt; "\nLargest number is " &lt;&lt; largest &lt;&lt; endl;
    return 0;
}

int find_max( int list2[], int size )
{
int
    idx
    ,highest
    ;

    for(highest = list2[0],idx = 1; idx &lt; size; ++idx)
         if(highest &lt; list2[idx])
              highest = list2[idx];
    return(highest);
}</pre>
</div>
<p>In the <strong>find_max()</strong> function, <strong>list2[]</strong> is an array of
undetermined length. On the call to <strong>find_max()</strong> the argument
<strong>list</strong> is stated without subscripts, this passes the address of
<strong>list</strong>, because <strong>list</strong> is an array. The name of an array is a
pointer constant that represents the beginning address of the array.
Therefore, when <strong>list</strong> is stated in the call to <strong>find_max()</strong>, the
address that <strong>list</strong> represents is actually passed to the function.
The receiving argument <strong>list2[]</strong> only receives the address of where
the array begins in memory. With the array notation used for the
receiving argument, <strong>list2[]</strong> can be treated as if it is an alias
that allows for the direct manipulation of the data stored in
<strong>list</strong>. Multi Dimensional arrays as arguments follow the same syntax
except that on the receiving side the last dimension must be stated.
This is so the compiler knows where one row of data ends and another
row begins.</p>
</div>
<div class="section" id="listing-7-3">
<h3>Listing 7-3<a class="headerlink" href="#listing-7-3" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>#include &lt;iostream.h&gt;

#define ROWS        10
#define COLUMNS     2

int main()
{
float agents[ROWS][COLUMNS];
int indx = 0;
int maxex( float [][COLUMNS], int );

    cout &lt;&lt; "\nEnter 3-digit agent"
         &lt;&lt; " number then travel "
         &lt;&lt; "expenses(001 1642.50)";
    do
    {
         cout &lt;&lt; "\nAgents # and expenses:";
         cin &gt;&gt; agents[indx][0]
             &gt;&gt; agents[indx][1]);
    }while( agents[indx++][0] != 0 );

    indx--;
    indx = maxex(agents,indx);
    cout &lt;&lt; "\nAgent with highest expenses: "
         &lt;&lt; agents[indx][0];
    cout &lt;&lt; "   Amount: %.2f"
         &lt;&lt; agents[indx][1];
    return 0;
}

int maxex(float list[][COLUMNS],int size)
{
int
    idx
    ,maxidx
    ;
float
    max
    ;

    max = list[0][1];
    maxidx = 0;
    for(idx = 1; idx &lt; list[idx][1])
         {
              max = list[idx][1];
              maxidx = idx;
         }
    return(maxidx);
}</pre>
</div>
</div>
<div class="section" id="strings">
<h3>7.3 Strings<a class="headerlink" href="#strings" title="Permalink to this headline">¶</a></h3>
<p>An array of type char ending with a NULL (&#8216;000&#8217;) character is called
a string in <strong>C</strong>.</p>
</div>
<div class="section" id="fig-7-3">
<h3>Fig 7-3<a class="headerlink" href="#fig-7-3" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>char name[] = "John Smith";
main()
{
     .
     .
     .
}</pre>
</div>
<p>the above string is stored in memory as:</p>
</div>
<div class="section" id="fig-7-4">
<h3>Fig 7-4<a class="headerlink" href="#fig-7-4" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>memory        value
address       at address

 2000           J
 2001           o
 2002           h
 2003           n
 2004
 2005           S
 2006           m
 2007           i
 2008           t
 2009           h
 200A           \0</pre>
</div>
<p>An array that will be used as a string must be declared with one
additional byte more than is needed for data. This allots space for
the NULL byte which is the signal indicating the end of the string.</p>
</div>
<div class="section" id="listing-7-4">
<h3>Listing 7-4<a class="headerlink" href="#listing-7-4" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>//
//    looks at string in memory
//
#include &lt;iostream.h&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

int main()
{
char name[81];
int indx;

    cout &lt;&lt; "\nEnter your name: ";
    gets(name);    // used because of whitespace input
    cout &lt;&lt; "\nThe string " &lt;&lt; name
         &lt;&lt; " is stored at address "
         &lt;&lt; hex &lt;&lt; unsigned(name);

    for(indx=0; indx &lt; strlen(name); ++indx)
    {
         cout &lt;&lt; "\nADDR: " &lt;&lt; hex &lt;&lt; unsigned(name);
         cout &lt;&lt; " CHAR: "  &lt;&lt; name[indx];
         cout &lt;&lt; " DEC:  " &lt;&lt; dec &lt;&lt;  int(name[indx]);
    }
    return 0;
}</pre>
</div>
</div>
</div>
<div class="section" id="string-functions">
<h2>7.3.1 String Functions&lt;<a class="headerlink" href="#string-functions" title="Permalink to this headline">¶</a></h2>
<p>Strings must be manipulated with standard functions supplied with the
compiler function libraries.</p>
<div class="highlight-python"><pre>**char *strcat(char *str1, char *str2);**</pre>
</div>
<p>Appends str2 to str1, terminates the resulting string with a NULL
character and returns the address of the concatenated string, str1.</p>
<div class="highlight-python"><pre>**char *strchr(char *str, char c);**</pre>
</div>
<p>Returns the address of the first occurrence of <strong>c</strong> in <strong>str</strong>; the
function returns NULL if the character is not found.</p>
<div class="highlight-python"><pre>**int strcmp(char *str1, char *str2);**</pre>
</div>
<p>Compares <strong>str1</strong> and <strong>str2</strong> lexicographically and returns a value
indicating their relationship.</p>
<div class="highlight-python"><pre>                  Value          Meaning

                   &lt; 0       str1 less than str2
                   0         str1 equal to str2
                   &gt; 0       str1 greater than str2

**int strcmpi(char *str1, char *str2);**</pre>
</div>
<p>Case-insensitive version of strcmp. Strings are compared without
regard to case.</p>
<div class="highlight-python"><pre>**char *strcpy(char *str1, char *str2);**</pre>
</div>
<p>Copies <strong>str2</strong>, including the null terminating character to location
specified by <strong>str1</strong> and returns <strong>str1</strong>.</p>
<div class="highlight-python"><pre>**int strcspn(char *str1, char *str2);**</pre>
</div>
<p>Returns the index of the first character in <strong>str1</strong> that belongs to
the set of characters specified by <strong>str2</strong>.</p>
<div class="highlight-python"><pre>**char *strdup(char *str);**</pre>
</div>
<p>Allocates storage space for a copy of <strong>str</strong> and returns the address
to that storage space containing the copied string. Returns NULL if
storage could not be found.</p>
<div class="highlight-python"><pre>**int strlen(char *str);**</pre>
</div>
<p>Returns the length in bytes of <strong>str</strong> not including the termininating
null character.</p>
<div class="highlight-python"><pre>**char *strlwr(char *str);**</pre>
</div>
<p>Converts any uppercase letters in the given null terminated string to
lowercase.</p>
<div class="highlight-python"><pre>**char *strncat(char *str1, char *str2, int n);**</pre>
</div>
<p>Appends at most the first <strong>n</strong> characters of <strong>str2</strong> to <strong>str1</strong>,
terminates the resulting string with a null character and returns the
address of the concatenated <strong>str1</strong>.</p>
<div class="highlight-python"><pre>**int strncmp(char *str1, char *str2, int n);**</pre>
</div>
<p>Compares at most the first <strong>n</strong> characters of <strong>str1</strong> and <strong>str2</strong>
lexicographically and returns a value indicating the relationship
between the substrings.</p>
<div class="highlight-python"><pre>                  Value     Meaning

                  &lt; 0       substring1 &lt; substring2
                  0         substring1 = substring2
                  &gt; 0       substring1 &gt; substring2

**char *strncpy(char *str1, char * str2, int n);**</pre>
</div>
<p>Copies exactly <strong>n</strong> characters of <strong>str2</strong> to <strong>str1</strong> and returns
<strong>str1</strong>.</p>
<div class="highlight-python"><pre>**char *strnset(char *str, char c, int n);**</pre>
</div>
<p>Sets at most the first <strong>n</strong> characters of <strong>str</strong> to the character
<strong>c</strong> and returns the address of the altered <strong>str</strong>.</p>
<div class="highlight-python"><pre>**char *strtok( char *str, char *delims );**</pre>
</div>
<p>Searches one string for tokens, which are separated by delimiters
defined in a second string.</p>
<div class="section" id="listing-7-5">
<h3>Listing 7-5<a class="headerlink" href="#listing-7-5" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>#include &lt;string.h&gt;
#include &lt;stdio.h&gt;

int main()
{
char input[16] = "abc,d";
char *p;

    /*
    *    strtok places a NULL terminator
    *    in front of the token, if found
    */
    p = strtok( input, "," );
    if( p )
         printf( "%s\n", p);
    /*
    *    a second call to strtok using a
    *    NULL as the first parameter returns
    *    a pointer to the character following
    *    the token
    */
    p = strtok( NULL, "," );
    if( p )
         printf("%s\n", p );
    return 0;
}</pre>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Chapter 7 Arrays</a><ul>
<li><a class="reference internal" href="#arrays">7.1 Arrays</a></li>
<li><a class="reference internal" href="#declaring-and-initialization">7.1.1 Declaring and Initialization</a><ul>
<li><a class="reference internal" href="#fig-7-1">Fig. 7-1</a></li>
</ul>
</li>
<li><a class="reference internal" href="#multi-dimensional-arrays">7.1.2 Multi-Dimensional Arrays</a><ul>
<li><a class="reference internal" href="#listing-7-1">Listing 7-1</a></li>
</ul>
</li>
<li><a class="reference internal" href="#arrays-as-arguments">7.2 Arrays as Arguments</a><ul>
<li><a class="reference internal" href="#listing-7-2">Listing 7-2</a></li>
<li><a class="reference internal" href="#listing-7-3">Listing 7-3</a></li>
<li><a class="reference internal" href="#strings">7.3 Strings</a></li>
<li><a class="reference internal" href="#fig-7-3">Fig 7-3</a></li>
<li><a class="reference internal" href="#fig-7-4">Fig 7-4</a></li>
<li><a class="reference internal" href="#listing-7-4">Listing 7-4</a></li>
</ul>
</li>
<li><a class="reference internal" href="#string-functions">7.3.1 String Functions&lt;</a><ul>
<li><a class="reference internal" href="#listing-7-5">Listing 7-5</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/chap07.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li><a href="index.html">cpp 0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, demo.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>