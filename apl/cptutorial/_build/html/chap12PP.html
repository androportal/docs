

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Chapter 12: Programming Projects &mdash; cpp 0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="cpp 0 documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="index.html">cpp 0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="chapter-12-programming-projects">
<h1>Chapter 12: Programming Projects<a class="headerlink" href="#chapter-12-programming-projects" title="Permalink to this headline">Â¶</a></h1>
<div class="highlight-python"><pre> 1. You are to create an interactive program that will
    present the following menu.

    0: Quit
    1: Add an Event
    2: View Events

    An Event is a class,  **CEvent**, that is derived
    from  **CRecord** which is an abstract base class
    that generically defines records that are held within a
    document.  The  **CEvent** class has the following
    data members.

    long julianDate;    // the date the event is scheduled for
    long theTime;       // the time the event is scheduled for
    char theEvent[256]; // the statement about the event

    The abstract base class  **CRecord** defines two pure
    virtual functions for reading input from the disk and
    for placing data onto the disk.

    virtual void readRecord( size_t length) const = 0;
    virtual void writeRecord( size_t length) const = 0;

    The  **CEvent** class implements its own versions of
    these functions in order to read and write data to
    disk.

    This program will create the following C++ classes.

    CMenu - stores a list of menu items; presents those
            menu items on the screen; reads a selected menu
            item and returns an integer value representing
            the item selected.

    CDateTime - is an abstract base class that defines
                those methods needed for date and time
                handling.  This base class acquires the
                current date and time from the system.

                One derived class is  **CDate** which
                keeps the date in gregorian and julian
                formats; holds a string that represents the
                current date, i.e. "Monday, November 27,
                1995".  The second derived class is
                 **CTime** which holds the time in
                hh:mm:ss format and in twenty-four
                hour format.  The base class should declare
                are pure virtual functions the overload the
                of the following operators:

         + : adds a specified number of days to a julian
             date for  **CDate**.
         + : adds a specified number of minutes to a twenty-four
             hour time for  **CTime**.
         - : substracts a specified number of days from a
             julian date for CDate.
         - : substracts a specified number of minutes from a
             twenty-four hour time for CTime.

    CDocument - opens a disk file and stores or retrieves
                data from the file depending upon which
                method of the class is called. The
                constructor is passed the name of the file
                to open, if the file does not exist then it
                is created, and the address of a
                 **CRecord** class or derived class.  The
                file is assumed to always be a binary data
                file.  This class has a pointer to the
                 **CRecord** class which holds the
                address passed as a parameter of the
                constructor.  Overload the following
                operators:

         ++ : move to next item in document
         -- : move to previous item in document
         +  : add a new item to the document
         -  : delete an item from the document

                Use the pointer to the  **CRecord** type
                to access the correct derived class that
                knows how to read and write data of the
                correct type to and from the disk.

    CView - displays data on the screen, one screen at a
            time; supports the input of 'N' or 'n' for next
            screen and 'P' or 'p' for previous screen;
            also, 'q' or 'Q' for quit which returns back to
            the main menu.

    In order for the program to obtain the current date and
    time from the operating system.  The date and time can
    be obtained by calling the  **time()** and
     **localtime()** functions. The following is a
    sample program that obtains the date and time from the
    system:

    #include
    #include types.h&gt;
    #include &lt;time.h&gt;

    main()
    {
    struct tm *ptr;
    int nseconds;

         nseconds = time( (time_t)NULL );
         ptr = localtime( &amp;nseconds );
         printf("\nptr-&gt;tm_sec = %d",ptr-&gt;tm_sec);
         printf("\nptr-&gt;tm_min = %d",ptr-&gt;tm_min);
         printf("\nptr-&gt;tm_hour = %d",ptr-&gt;tm_hour);
         printf("\nptr-&gt;tm_mday = %d",ptr-tm_mday);
         printf("\nptr-&gt;tm_mon = %d",ptr-&gt;tm_mon);
         printf("\nptr-&gt;tm_year = %d",ptr-&gt;tm_year);
         printf("\nptr-&gt;tm_wday = %d",ptr-&gt;tm_wday);
         printf("\nptr-&gt;tm_yday = %d",ptr-&gt;tm_yday);
         printf("\nptr-&gt;tm_isdst = %d",ptr-&gt;tm_isdst);
         printf("\n");
    }

The structure, &lt;B&gt;struct tm&lt;B&gt;, has the following layout:

    struct tm
    {
         int tm_sec;    /* seconds after the minute ( 0 - 59 ) */
         int tm_min;    /* minutes after the hour ( 0 - 59 ) */
         int tm_hour;   /* hours since midnight ( 0 - 23 ) */
         int tm_mday;   /* day of the month ( 1 - 31 ) */
         int tm_mon;    /* month of the year ( 0 - 11 ) */
         int tm_year;   /* years since 1900 */
         int tm_wday;   /* days since Sunday ( 0 - 6 ) */
         int tm_yday;   /* day of the year ( 0 - 365 ) */
         int tm_isdst;  /* daylight savings time flag */
                        /* ( 1 = dst ) */
    };</pre>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/chap12PP.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li><a href="index.html">cpp 0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, demo.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>